<section>
  <div class="page-header">
    <h1>{{vm.car._id ? 'Edit a Car' : 'Add a Car'}}</h1>
  </div>
  <div class="col-md-12">
    <form name="vm.form.carForm" class="form-horizontal" ng-submit="vm.save(vm.form.carForm.$valid)" novalidate>
      <fieldset>
        <div class="form-group" show-errors>
          <label class="control-label" for="title">Title</label>
          <input name="title" type="text" data-ng-model="vm.car.title" id="title" class="form-control" placeholder="Title" required>
          <div ng-messages="vm.form.carForm.title.$error" role="alert">
            <p class="help-block error-text" ng-message="required">Car title is required.</p>
          </div>
        </div>
          <div class="form-group" show-errors>
            <label class="control-label" for="type">Type</label>
             <div class="controls">
                    <input name="type" type="radio" data-ng-model="vm.car.type" id="type"  value="used" checked>Used
                    <input name="type" type="radio" data-ng-model="vm.car.type" id="type" value="new">New
                    <div ng-messages="vm.form.carForm.type.$error" role="alert">
                      <p class="help-block error-text" ng-message="required">Car Type is required.</p>
                    </div>
             </div>
        </div>
        <div class="form-group" show-errors>
         <label class="control-label" for="make">Make</label>
         <div class="controls">
                     <select name="make" for="make" class="form-control" data-ng-model="vm.car.make">
                        <option value="0">Select Make</option>
                        <option value="chevrolet">Chevorlet</option>
                        <option value="dodge">Dodge</option>
                        <option value="ford">Ford</option>
                        <option value="honda">Honda</option>
                        <option value="lexus">Lexus</option>
                        <option value="nissan">Nissan</option>
                        <option value="toyota">Toyota</option>
                    </select>
         </div>
         <div ng-messages="vm.form.carForm.make.$error" role="alert">
              <p class="help-block error-text" ng-message="required">Car Make is required.</p>
          </div>
        </div>
        <div class="form-group" show-errors>
         <label class="control-label" for="model">Model</label>
         <div class="controls">
                     <select name="model" for="model" class="form-control" data-ng-model="vm.car.model">
                             <option value="0">Select Model</option>
                            <option value="avlon">Avlon</option>
                            <option value="camry">Camry</option>
                            <option value="corolla">Corolla</option>
                            <option value="prius">Prius</option>
                            <option value="tundra">Tundra</option>
                    </select>
         </div>
         <div ng-messages="vm.form.carForm.make.$error" role="alert">
              <p class="help-block error-text" ng-message="required">Car Model is required.</p>
          </div>
        </div>
          <div class="form-group">
            <label class="control-label" for="model">Years</label>
            <div class="controls">
                        <input type="text" name="year" id="year" data-ng-model="vm.car.year" class="form-control" />
            </div>
         </div>
           <div class="form-group" show-errors>
            <label class="control-label" for="model">Image</label>
                  
                <div class="controls">
<!--                  <div class="button" ngf-select ng-model="vm.car.imageurl" name="file" ngf-pattern="'image/*'"
    ngf-accept="'image/*'" ngf-max-size="20MB" ngf-min-height="100" 
    ngf-resize="{width: 100, height: 100}">Select</div>-->
                    
                <input 
               type="file" 
               ngf-select 
               data-ng-model="vm.car.imageurl" 
               name="imageurl" 
               ngf-pattern="'image/*'"
               accept="image/*" 
               ngf-max-size="20MB" 
               />
            Image thumbnail: <img style="width:100px;"  data-ng-show="!!vm.car.imageurl" ngf-thumbnail="path.PATH + vm.car.imageurl || '/thumb.png'"/>
            <i ng-show="vm.form.carForm.imageurl.$error.required">*required</i><br>
            <i ng-show="vm.form.carForm.imageurl.$error.maxSize">File too large 
            {{vm.car.imageurl.size / 1000000|number:1}}MB: max 20M</i>
            
            <p>{{vm.progress}}

                    


                  
<!--                     <button type="file" ngf-select="uploadFiles($file, $invalidFiles)" accept="image/*" ngf-max-height="1000" ngf-max-size="1MB">
                        Select File</button>
                    <br><br>
                    File:
                    <div style="font:smaller">{{f.name}} {{errFile.name}} {{errFile.$error}} {{errFile.$errorParam}}
                        <span class="progress" ng-show="f.progress >= 0">
                            <div style="width:{{f.progress}}%"  
                                 ng-bind="f.progress + '%'"></div>
                        </span>
                    </div>     
                    {{errorMsg}}-->
                    
                    
                </div>
         </div>
          <div class="form-group" show-errors>
            <label class="control-label" for="model">Price</label>
            <div class="controls">
                        <input type="text" name="price" id="year" data-ng-model="vm.car.price" class="form-control" />
            </div>
            <div ng-messages="vm.form.carForm.make.$error" role="alert">
              <p class="help-block error-text" ng-message="required">Price is required.</p>
          </div>
         </div>
          <div class="form-group">
               <label class="control-label" for="state" >State</label>
               <div class="controls">
                    <select name="state" class="form-control" data-ng-model="vm.car.state">
                        <option value="0">Select State</option>
                        <option value="AL">Alabama</option>
                        <option value="AK">Alaska</option>
                        <option value="AZ">Arizona</option>
                        <option value="AR">Arkansas</option>
                        <option value="CA">California</option>
                        <option value="CO">Colorado</option>
                        <option value="CT">Connecticut</option>
                        <option value="DE">Delaware</option>
                        <option value="DC">District Of Columbia</option>
                        <option value="FL">Florida</option>
                        <option value="GA">Georgia</option>
                        <option value="HI">Hawaii</option>
                        <option value="ID">Idaho</option>
                        <option value="IL">Illinois</option>
                        <option value="IN">Indiana</option>
                        <option value="IA">Iowa</option>
                        <option value="KS">Kansas</option>
                        <option value="KY">Kentucky</option>
                        <option value="LA">Louisiana</option>
                        <option value="ME">Maine</option>
                        <option value="MD">Maryland</option>
                        <option value="MA">Massachusetts</option>
                        <option value="MI">Michigan</option>
                        <option value="MN">Minnesota</option>
                        <option value="MS">Mississippi</option>
                        <option value="MO">Missouri</option>
                        <option value="MT">Montana</option>
                        <option value="NE">Nebraska</option>
                        <option value="NV">Nevada</option>
                        <option value="NH">New Hampshire</option>
                        <option value="NJ">New Jersey</option>
                        <option value="NM">New Mexico</option>
                        <option value="NY">New York</option>
                        <option value="NC">North Carolina</option>
                        <option value="ND">North Dakota</option>
                        <option value="OH">Ohio</option>
                        <option value="OK">Oklahoma</option>
                        <option value="OR">Oregon</option>
                        <option value="PA">Pennsylvania</option>
                        <option value="RI">Rhode Island</option>
                        <option value="SC">South Carolina</option>
                        <option value="SD">South Dakota</option>
                        <option value="TN">Tennessee</option>
                        <option value="TX">Texas</option>
                        <option value="UT">Utah</option>
                        <option value="VT">Vermont</option>
                        <option value="VA">Virginia</option>
                        <option value="WA">Washington</option>
                        <option value="WV">West Virginia</option>
                        <option value="WI">Wisconsin</option>
                        <option value="WY">Wyoming</option>
                </select>
               </div>
          </div>
        <div class="form-group">
             <div class="controls">
                <label class="control-label" for="content">Description</label>
                <textarea name="description" data-ng-model="vm.car.description" id="description" class="form-control" cols="30" rows="10" placeholder="Description"></textarea>
             </div>
        </div>
          <div class="form-group" show-errors>
            <label class="control-label" for="model">Contact Email</label>
            <div class="controls">
                        <input type="text" name="contact_email" id="year" data-ng-model="vm.car.contact_email" class="form-control" />
            </div>
         </div>
        <div class="form-group">
          <button type="submit" class="btn btn-default">{{vm.car._id ? 'Update Car' : 'Create Car'}}</button>
        </div>
        <div ng-show="vm.error" class="text-danger">
          <strong ng-bind="vm.error"></strong>
        </div>
      </fieldset>
    </form>
  </div>
</section>
